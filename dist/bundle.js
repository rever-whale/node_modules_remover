#!/usr/bin/env node
"use strict";var fs=require("fs"),path=require("path"),_require=require("commander"),program=_require.program,rimraf=require("rimraf");if(program.option("-p, --path <path>","path name").option("-t, --target <filename>","The name of the folder and file to be deleted","node_modules"),program.parse(process.argv),!program.path)throw new Error("Please enter a folder path");var _program$path=program.path,targetPath=_program$path.path,targetName=_program$path.target,rootPath=getPath(targetPath),count=0;if(!existsPath(rootPath))throw new Error("Invalid Path");function processDelete(t,a){isDirectory(t)&&readDirectory(t).forEach(function(r){var e=path.resolve(t,r);isDirectory(e)&&(r===a?(console.log("["+count+++"] "+e),deletePath(e)):processDelete(e,a))})}function readDirectory(r){return fs.readdirSync(r)}function isDirectory(r){return fs.statSync(r).isDirectory()}function deletePath(r){rimraf.sync(r)}function existsPath(r){return fs.existsSync(r)}function getPath(r){return path.resolve(__dirname,r)}processDelete(rootPath,targetName);
